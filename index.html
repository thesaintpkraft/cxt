const games = [
        { title: "The Finals", img: "img/thefinals.jpg" },
        { title: "Warcraft 3", img: "img/Warcraft_3_logo.jpg" },
        { title: "CS 1.6", img: "img/cs16.jpg" },
        { title: "Quake 3", img: "img/Quake_III_Arena_Logo.svg.png" },
        { title: "Flatout 2", img: "img/Flatout2pc.jpg" },
        { title: "World War Z", img: "img/World_War_Z_cover_art.jpg" },
        { title: "Trackmania", img: "img/Cover_of_Trackmania.jpg" },
        { title: "Serious Sam 2", img: "img/Serious_Sam_II.jpg" },
        { title: "Blobby Volley", img: "img/Blobby-volley-logo.png" },
        { title: "C&C 3", img: "img/Command_&_Conquer_Tiberium_Wars_Logo.jpg" },
        { title: "Dead Island 2", img: "img/Dead_Island_2_cover_art.jpg" },
        { title: "BF Vietnam", img: "img/Battlefield_Vietnam_Coverart.png" },
        { title: "Dead by Daylight", img: "img/Dead_by_Daylight_Logo.png" },
        { title: "Northgard", img: "img/Northgard_cover_art.jpg" }
    ];

    const grid = document.getElementById('gameGrid');
    const dropZone = document.getElementById('dropZone');

    function init() {
        grid.innerHTML = '';
        games.forEach(game => {
            const card = document.createElement('div');
            card.className = 'card';
            card.draggable = true;
            card.innerHTML = `<img src="${game.img}" alt="${game.title}"><div class="card-title">${game.title}</div>`;
            card.addEventListener('dragstart', (e) => e.dataTransfer.setData('text/plain', JSON.stringify(game)));
            grid.appendChild(card);
        });

        dropZone.addEventListener('dragover', (e) => { e.preventDefault(); dropZone.classList.add('hover'); });
        dropZone.addEventListener('dragleave', () => dropZone.classList.remove('hover'));
        dropZone.addEventListener('drop', (e) => {
            e.preventDefault();
            dropZone.classList.remove('hover');
            const data = JSON.parse(e.dataTransfer.getData('text/plain'));
            updateActive(data);
        });

        const last = localStorage.getItem('lan_now');
        if(last) updateActive(JSON.parse(last));
    }

    function updateActive(game) {
        document.getElementById('activeContent').innerHTML = `<img src="${game.img}"><h3>${game.title}</h3>`;
        localStorage.setItem('lan_now', JSON.stringify(game));
    }
    init();
